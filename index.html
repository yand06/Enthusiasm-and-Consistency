<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enthusiasm and Consistency</title>
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #2d3748;
      }

      .container {
        display: flex;
        gap: 20px;
        padding: 20px;
        max-width: 900px;
        width: 100%;
      }

      .calendar-container {
        background: white;
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        flex: 2;
      }

      .stats-container {
        background: white;
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        flex: 1;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
      }

      .header button {
        background: #667eea;
        border: none;
        color: white;
        font-size: 18px;
        cursor: pointer;
        padding: 8px 15px;
        border-radius: 10px;
        transition: transform 0.2s, background 0.2s;
      }

      .header button:hover {
        background: #764ba2;
        transform: scale(1.05);
      }

      .month-display {
        font-size: 24px;
        font-weight: bold;
        color: #2d3748;
      }

      .days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
        text-align: center;
      }

      .day-name {
        font-weight: 600;
        padding: 10px;
        color: #667eea;
      }

      .date {
        padding: 12px;
        cursor: pointer;
        border-radius: 10px;
        position: relative;
        transition: all 0.3s;
        font-weight: 500;
      }

      .date:hover {
        background: #f7fafc;
        transform: scale(1.1);
      }

      .date.selected {
        background: #667eea;
        color: white;
        transform: scale(1.05);
      }

      .date.selected::after {
        content: "✓";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-weight: bold;
      }

      .streak-container {
        margin-top: 20px;
        padding: 15px;
        background: #f7fafc;
        border-radius: 15px;
      }

      .streak-title {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 15px;
        color: #2d3748;
      }

      .progress-bar {
        height: 10px;
        background: #e2e8f0;
        border-radius: 5px;
        margin: 10px 0;
        overflow: hidden;
      }

      .progress {
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        transition: width 0.3s ease;
      }

      .stats {
        margin-top: 20px;
      }

      .stat-item {
        display: flex;
        justify-content: space-between;
        margin: 10px 0;
        padding: 10px;
        background: #f7fafc;
        border-radius: 10px;
      }

      .motivation {
        margin-top: 20px;
        padding: 15px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
        text-align: center;
        font-style: italic;
      }

      @media (max-width: 768px) {
        .container {
          flex-direction: column;
        }

        .calendar-container,
        .stats-container {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="calendar-container">
        <div class="header">
          <button onclick="previousMonth()">←</button>
          <div class="month-display" id="monthDisplay"></div>
          <button onclick="nextMonth()">→</button>
        </div>
        <div class="days" id="calendarDays">
          <div class="day-name">Min</div>
          <div class="day-name">Sen</div>
          <div class="day-name">Sel</div>
          <div class="day-name">Rab</div>
          <div class="day-name">Kam</div>
          <div class="day-name">Jum</div>
          <div class="day-name">Sab</div>
        </div>
      </div>

      <div class="stats-container">
        <div class="streak-container">
          <div class="streak-title">Progress Bulan Ini</div>
          <div class="progress-bar">
            <div class="progress" id="monthProgress"></div>
          </div>
          <div class="stats">
            <div class="stat-item">
              <span>Streak Saat Ini</span>
              <span id="currentStreak">0 hari</span>
            </div>
            <div class="stat-item">
              <span>Streak Terpanjang</span>
              <span id="longestStreak">0 hari</span>
            </div>
          </div>
        </div>
        <div class="motivation" id="motivation"></div>
      </div>
    </div>

    <script>
      let currentDate = new Date();
      let selectedDates = new Set();
      let currentStreak = 0;
      let longestStreak = 0;

      // Load saved dates from localStorage when the page loads
      function loadSavedDates() {
        const savedDates = localStorage.getItem("selectedDates");
        if (savedDates) {
          selectedDates = new Set(JSON.parse(savedDates));
        }
      }

      // Save dates to localStorage
      function saveDates() {
        localStorage.setItem(
          "selectedDates",
          JSON.stringify(Array.from(selectedDates))
        );
      }

      const motivationalQuotes = [
        "Konsistensi adalah kunci kesuksesan!",
        "Setiap langkah kecil membawa perubahan besar.",
        "Hari ini lebih baik dari kemarin, besok harus lebih baik dari hari ini!",
        "Kebiasaan kecil membentuk hasil besar.",
        "Jangan putus asa, teruslah melangkah!",
        "Kamu lebih kuat dari yang kamu pikirkan!",
        "Jangan putus asa, teruslah melangkah!",
        "Hal-hal besar dimulai dari Hal-hal kecil!",
      ];

      function updateCalendar() {
        const monthDisplay = document.getElementById("monthDisplay");
        const calendarDays = document.getElementById("calendarDays");

        const months = [
          "Januari",
          "Februari",
          "Maret",
          "April",
          "Mei",
          "Juni",
          "Juli",
          "Agustus",
          "September",
          "Oktober",
          "November",
          "Desember",
        ];

        monthDisplay.textContent = `${
          months[currentDate.getMonth()]
        } ${currentDate.getFullYear()}`;

        const dayNames = Array.from(
          calendarDays.getElementsByClassName("day-name")
        );
        calendarDays.innerHTML = "";
        dayNames.forEach((day) => calendarDays.appendChild(day));

        const firstDay = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth(),
          1
        );
        const startingDay = firstDay.getDay();
        const lastDay = new Date(
          currentDate.getFullYear(),
          currentDate.getMonth() + 1,
          0
        );
        const totalDays = lastDay.getDate();

        for (let i = 0; i < startingDay; i++) {
          const emptyDay = document.createElement("div");
          calendarDays.appendChild(emptyDay);
        }

        for (let day = 1; day <= totalDays; day++) {
          const dateDiv = document.createElement("div");
          dateDiv.textContent = day;
          dateDiv.className = "date";

          const dateString = `${currentDate.getFullYear()}-${
            currentDate.getMonth() + 1
          }-${day}`;
          if (selectedDates.has(dateString)) {
            dateDiv.classList.add("selected");
          }

          dateDiv.onclick = function () {
            if (selectedDates.has(dateString)) {
              selectedDates.delete(dateString);
              dateDiv.classList.remove("selected");
            } else {
              selectedDates.add(dateString);
              dateDiv.classList.add("selected");
            }
            saveDates();
            updateStats();
          };

          calendarDays.appendChild(dateDiv);
        }
        updateStats();
        updateMotivation();
      }

      function updateStats() {
        const today = new Date();
        const currentMonth = today.getMonth();
        const currentYear = today.getFullYear();

        // Hitung progress bulan ini
        const daysInMonth = new Date(
          currentYear,
          currentMonth + 1,
          0
        ).getDate();
        const selectedThisMonth = Array.from(selectedDates).filter((date) => {
          const [year, month] = date.split("-").map(Number);
          return year === currentYear && month === currentMonth + 1;
        });

        const progress = (selectedThisMonth.length / daysInMonth) * 100;
        document.getElementById("monthProgress").style.width = `${progress}%`;

        // Hitung streak
        let streak = 0;
        let maxStreak = 0;
        let currentStreakCount = 0;

        for (let i = 0; i < 365; i++) {
          const date = new Date();
          date.setDate(date.getDate() - i);
          const dateString = `${date.getFullYear()}-${
            date.getMonth() + 1
          }-${date.getDate()}`;

          if (selectedDates.has(dateString)) {
            currentStreakCount++;
            maxStreak = Math.max(maxStreak, currentStreakCount);
          } else {
            if (i === 0) streak = currentStreakCount;
            currentStreakCount = 0;
          }
        }

        document.getElementById("currentStreak").textContent = `${streak} hari`;
        document.getElementById(
          "longestStreak"
        ).textContent = `${maxStreak} hari`;
      }

      function updateMotivation() {
        const quoteIndex = Math.floor(
          Math.random() * motivationalQuotes.length
        );
        document.getElementById("motivation").textContent =
          motivationalQuotes[quoteIndex];
      }

      function previousMonth() {
        currentDate.setMonth(currentDate.getMonth() - 1);
        updateCalendar();
      }

      function nextMonth() {
        currentDate.setMonth(currentDate.getMonth() + 1);
        updateCalendar();
      }

      loadSavedDates();

      // Initialize calendar
      updateCalendar();

      // Update motivation quote every 10 seconds
      setInterval(updateMotivation, 10000);
    </script>
  </body>
</html>
